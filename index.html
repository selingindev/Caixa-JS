<html>

<head>

	<script>

		nome = prompt('Olá usuario, qual é seu nome')
		alert('Olá ' + nome + ' é um prazer ter você por aqui' )
		var saldo = 100.5; //Float
		var extrato = ['\nCamiseta Confortavel: -40R$', 'Deposito de: 170R$', '\nLoja do Seu ZÉ: -7R$' , '\nCAEDU: -120R$\n', 'Babylon Disco/s: -100R$']
	
		function password(){
		var senha = 3589;
		var acess = false;
		var tentativas = 0;
		
		while(!acess){
			var inputUser = parseInt(prompt('Digite a senha antes de realizar esta ação'));
			if (senha === inputUser){
				acess = true;
			} else {
				alert('Senha Incorreta'); 
			}
		}
    }

		function inicio() {
			var escolha = parseInt(prompt('Selecione uma opção 1.) Saldo  2.) Extrato  3.)Saque  4.)Depósito  5.)Transferência  6.)Sair'));
	
			switch(escolha){
				case 1: ver_saldo();
				break

				case 2: verExtrato()
				break
		
				case 3: fazer_saque()
				break
				
				case 4: fazer_deposito();
				break

				case 5: fazerTransferencia();
				break

				case 6: sair()
				break

				default: erro()
	
			}

		}		

		function ver_saldo() {
			password();
			
			alert('Seu saldo atual é: ' + saldo);
			inicio();
		}

		function fazer_deposito() {
			password();
			var deposito = parseFloat(prompt('Qual o valor para depósito?'));
			// Not a Number
			if (isNaN(deposito) || deposito === '') {
				alert('Por favor, informe um número:');
				fazer_deposito();
			}else if(deposito <= 0){
				alert('Impossivel depositar nada:');
				fazer_deposito();
			} else {
				saldo += deposito;
				ver_saldo();
			}
		}

		function fazer_saque() {
			password();		
			var saque = parseFloat(prompt('Qual o valor para saque?'));
			if (isNaN(saque) || saque === '') {
				alert('Por favor, informe um número:');
				fazer_saque();
			} else if(saque > saldo){
				alert('Impossível sacar um valor mais que o seu saldo')
				fazer_saque();
			}else if(saque <= 0 ){
				alert('Impossivel sacar 0 ou menos reais, tente novamente')
				fazer_saque();
			}else {
				saldo -= saque;	
				ver_saldo();
			}
		}
		function verExtrato(){
			password();
			alert('Seu historico de compras: '+ extrato)
			inicio()
		}
		function fazerTransferencia(){
			password();
			codBanco  = parseInt(prompt('Digite o número da outra conta: '));
			while(codBanco == '' || isNaN(codBanco)){
				alert('Apenas são permitido números.')	
				codBanco  = parseInt(prompt('Digite o número da outra conta: '));	
			}

			var tranferValue = parseInt(prompt('Qual o valor para tranferencia'));

			if (isNaN(tranferValue) || tranferValue === '') {
				alert('Por favor, informe um número:');
				fazer_tranferValue();
			} else if(tranferValue > saldo){
				alert('Impossível transferir um valor maior que o seu saldo')
				fazer_tranferValue();
			}else if(tranferValue <= 0 ){
				alert('Impossivel transferir 0 ou menos reais, tente novamente')
				fazer_tranferValue();
			}else {
				saldo -= tranferValue;	
				ver_saldo();
			}
		}

		function erro() {
			alert('Por favor, informe um número entre 1 e 6')
			inicio();
		}

		function sair() {
			var confirma = confirm('Você deseja sair?');
			if (confirma) {
				alert('Foi um prazer ajuda-lo '+nome )
				window.close();
			} else {
				inicio();
			}
		}

		
		
		inicio();
	</script>
</head>

<body>

</body>

</html>
